(this["webpackJsonpsendsay-test"]=this["webpackJsonpsendsay-test"]||[]).push([[0],{29:function(e,t,n){e.exports=n(54)},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),s=n.n(o),i=(n(34),n(3)),c=(n(35),n(18)),u=n(2),l=n(8),m=n.n(l),p=n(11),d=n(7),f=function(e){var t=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(String(e).toLowerCase()),n=new RegExp(/^([a-zA-Z0-9_])+$/).test(String(e));return t||n},g=n(16),y=n(26),b=n(27),h=n.n(b),v=new(function(){function e(){Object(g.a)(this,e),this.sendsay=new h.a}return Object(y.a)(e,[{key:"login",value:function(e){return this.sendsay.login({login:e.loginName,sublogin:e.subLoginName,password:e.password})}},{key:"request",value:function(e){return this.sendsay.request(e)}},{key:"setSession",value:function(e){this.sendsay.setSession(e)}},{key:"logout",value:function(){return this.sendsay.request({action:"logout"})}}]),e}());v.setSession(localStorage.getItem("sendsay_session"));var E=Object(d.b)({name:"auth",initialState:{currentLoginName:localStorage.getItem("loginName"),currentSubLoginName:localStorage.getItem("subLoginName"),process:"none",errMessage:"",isLoginValid:!0,isPasswordValid:!0},reducers:{correctLogin:function(e,t){e.currentLoginName=t.payload.loginName,e.currentSubLoginName=t.payload.subLoginName,localStorage.setItem("loginName",e.currentLoginName),localStorage.setItem("subLoginName",e.currentSubLoginName)},logout:function(e){localStorage.removeItem("loginName"),localStorage.removeItem("subLoginName"),localStorage.removeItem("sendsay_session"),e.currentLoginName=e.currentSubLoginName=null},setProcessState:function(e,t){e.process=t.payload.process,e.errMessage=t.payload.errMessage},setLoginPasswordValidState:function(e,t){e.isLoginValid=t.payload.isLoginValid,e.isPasswordValid=t.payload.isPasswordValid},resetFailState:function(e){e.process="none"}}}),N=E.actions,_=N.correctLogin,S=N.logout,I=N.setProcessState,q=N.setLoginPasswordValidState,w=N.resetFailState,x=E.reducer,k=(n(41),Object(u.b)((function(e){return{authProcess:e.auth.process,errMessage:e.auth.errMessage,isLoginValid:e.auth.isLoginValid,isPasswordValid:e.auth.isPasswordValid}}),{loginAttempt:function(e){return function(t){!function(){var e=Object(p.a)(m.a.mark((function e(n){var r,a,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(I({process:"waiting"})),r=f(n.loginName),i=n.password,a=new RegExp(/^([a-zA-Z0-9 ,.!@#$%^&()/*\-+\\"'|{}`;:?<>_=[\]~])+$/).test(String(i)),t(q({isLoginValid:r,isPasswordValid:a})),r&&a){e.next=7;break}return t(I({process:"authinvalid"})),e.abrupt("return");case 7:return e.prev=7,e.next=10,v.login(n);case 10:(o=e.sent).session&&localStorage.setItem("sendsay_session",o.session),t(I({process:"none"})),t(_(n)),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(7),(s={}).id=e.t0.id,s.explain=e.t0.explain,t(I({process:"loginfail",errMessage:JSON.stringify(s)}));case 22:case"end":return e.stop()}var i}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}()(e)}},resetFailState:w})((function(e){var t,n=Object(r.useState)("cooleshov@inbox.ru"),o=Object(c.a)(n,2),s=o[0],i=o[1],u=Object(r.useState)(""),l=Object(c.a)(u,2),m=l[0],p=l[1],d=Object(r.useState)("pu2Robusoo"),f=Object(c.a)(d,2),g=f[0],y=f[1],b=function(){e.loginAttempt({loginName:s,subLoginName:m,password:g})},h=function(e){"Enter"===e.key&&b()},v="loginfail"===e.authProcess?"":"login-menu-errmessage_hide",E=e.isLoginValid?"login-menu-item__help_hide":"",N=e.isLoginValid?"":"login-menu-item__label_invalid",_=e.isLoginValid?"":"login-menu-item__input_invalid",S=e.isPasswordValid?"login-menu-item__help_hide":"",I=e.isPasswordValid?"":"login-menu-item__label_invalid",q=e.isPasswordValid?"":"login-menu-item__input_invalid";switch(e.authProcess){case"none":t="";break;case"waiting":t="login-menu-loginbutton_waiting";break;case"authinvalid":t="login-menu-loginbutton_disabled";break;default:t=""}return a.a.createElement("div",{className:"login"},a.a.createElement("div",{className:"app-logo-container"},a.a.createElement("div",{className:"app-logo"})),a.a.createElement("div",{className:"login-menu"},a.a.createElement("div",{className:"app-caption"},"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430"),a.a.createElement("div",{className:"login-menu-errmessage ".concat(v)},a.a.createElement("div",{className:"login-menu-errmessage__smile"}),a.a.createElement("div",{className:"login-menu-errmessage__textcontainer"},a.a.createElement("div",null,"\u0412\u0445\u043e\u0434 \u043d\u0435 \u0432\u044b\u0448\u0435\u043b"),a.a.createElement("div",{className:"login-menu-errmessage__text"},e.errMessage))),a.a.createElement("div",{className:"login-menu-item__help ".concat(E)},"\u041b\u043e\u0433\u0438\u043d\u043e\u043c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c email, \u043b\u0438\u0431\u043e \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432, \u0446\u0438\u0444\u0440 \u0438 \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0439"),a.a.createElement("div",{className:"login-menu-item__label ".concat(N)},"\u041b\u043e\u0433\u0438\u043d"),a.a.createElement("input",{className:"login-menu-item__input ".concat(_),type:"text",placeholder:"iamyourlogin@domain.xyz","data-testid":"loginInput",required:!0,onChange:function(t){i(t.target.value),e.resetFailState()},onKeyUp:h}),a.a.createElement("div",{className:"login-menu-item-labelcontainer"},a.a.createElement("div",{className:"login-menu-item__label"},"\u0421\u0443\u0431\u043b\u043e\u0433\u0438\u043d"),a.a.createElement("div",{className:"login-menu-item__optionlabel"},a.a.createElement("span",null,"\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e"))),a.a.createElement("input",{className:"login-menu-item__input",type:"text",placeholder:"sublogin-could-be-here","data-testid":"subLoginInput",onChange:function(e){return p(e.target.value)},onKeyUp:h}),a.a.createElement("div",{className:"login-menu-item__help ".concat(S)},"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u043f\u0440\u043e\u0431\u0435\u043b"),a.a.createElement("div",{className:"login-menu-item__label ".concat(I)},"\u041f\u0430\u0440\u043e\u043b\u044c"),a.a.createElement("input",{className:"login-menu-item__input ".concat(q),type:"password","data-testid":"passwordInput",required:!0,onChange:function(t){y(t.target.value),e.resetFailState()},onKeyUp:h}),a.a.createElement("div",{className:"login-menu-loginbutton-container"},a.a.createElement("button",{className:"login-menu-loginbutton ".concat(t),type:"button",onClick:b,"data-testid":"submitButton",disabled:-1===["none","loginfail"].indexOf(e.authProcess)},"\u0412\u043e\u0439\u0442\u0438"))),a.a.createElement("a",{className:"github-link",href:e.ghLink},"@my-github-link"))}))),C=function(e){return null!=e&&"object"===typeof e},O=function e(t,n){var r=Object.keys(t),a=Object.keys(n);if(r.length!==a.length)return!1;for(var o=0,s=r;o<s.length;o++){var i=s[o],c=t[i],u=n[i],l=C(c)&&C(u);if(l&&!e(c,u)||!l&&c!==u)return!1}return!0},L=new function e(){var t=this;Object(g.a)(this,e),this.openDatabase=function(){return new Promise((function(e,n){var r=indexedDB.open("sendsay");r.onupgradeneeded=function(){t.db=r.result,t.db.objectStoreNames.contains("history")||t.db.createObjectStore("history"),e()},r.onerror=function(){n(new Error("Error while open IndexedDB"))},r.onsuccess=function(){t.db=r.result,e()}}))},this.updateDatabase=function(e){if(t.db){var n=t.db.transaction("history","readwrite").objectStore("history");n.clear(),e.forEach((function(e,t){n.put(JSON.stringify(e),t)}))}else console.log("IndexedDB didn't open")},this.getHistory=function(){return new Promise((function(e,n){t.db||n(new Error("IndexedDB didn't open"));var r=t.db.transaction("history").objectStore("history").getAll();r.onsuccess=function(){e(r.result)},r.onerror=function(){n(new Error("Can't get history data from IndexedDB"))}}))},this.db=null},P=function(e,t,n){var r={request:t.payload.request,status:n,timestamp:Date.now()},a=e.historyItems;return function(e,t){var n=e.findIndex((function(e){return O(e.request,t.request)}));n<0?e.push(t):e[n].timestamp=t.timestamp}(a,r),function(e){e.sort((function(e,t){return e.timestamp>t.timestamp?-1:1}))}(a),function(e){var t=e.length-20;t>0&&e.splice(20,t)}(a),L.updateDatabase(a),a},j=Object(d.b)({name:"history",initialState:{historyItems:[],popupedItem:null,copyAnimatedItem:null},reducers:{addSuccessHistoryItem:function(e,t){e.historyItems=P(e,t,"success")},addFailHistoryItem:function(e,t){e.historyItems=P(e,t,"fail")},setHistory:function(e,t){e.historyItems=[],t.payload.history.forEach((function(t){try{e.historyItems.push(JSON.parse(t))}catch(n){console.log("Database corrupted")}}))},removeHistoryItem:function(e,t){e.historyItems.splice(t.payload.deleteItemIndex,1),L.updateDatabase(e.historyItems)},clearHistory:function(e){e.historyItems=[],L.updateDatabase(e.historyItems)},openPopup:function(e,t){e.popupedItem=parseInt(t.payload.popupedItem.slice(13))},closePopup:function(e){e.popupedItem=null},setCopyAnimatedItem:function(e,t){e.copyAnimatedItem=t.payload.copyAnimatedItem},resetCopyAnimatedItem:function(e){e.copyAnimatedItem=null}}}),A=j.actions,F=A.addSuccessHistoryItem,R=A.addFailHistoryItem,H=A.setHistory,V=A.removeHistoryItem,T=A.clearHistory,D=A.openPopup,B=A.closePopup,M=A.setCopyAnimatedItem,J=A.resetCopyAnimatedItem,z=j.reducer,$=Object(d.b)({name:"confirm",initialState:{showConfirm:!1,confirmCaption:"",confirmApplyAction:null,confirmParams:null,tst:null},reducers:{openConfirm:function(e,t){var n=t.payload,r=n.confirmCaption,a=n.confirmApplyAction,o=n.confirmParams;e.confirmCaption=r,e.confirmApplyAction=a,e.confirmParams=o,e.showConfirm=!0},closeConfirm:function(e){e.showConfirm=!1}}}),K=$.actions,W=K.openConfirm,Z=K.closeConfirm,U=$.reducer,G=Object(d.b)({name:"fullscreen",initialState:{fullscreenTrigger:!1,fullscreen:!1},reducers:{setFullscreenTrigger:function(e){e.fullscreenTrigger=!0},resetFullscreenTrigger:function(e){e.fullscreenTrigger=!1},setFullscreen:function(e,t){e.fullscreen=t.payload.fullscreen}}}),Q=G.actions,X=Q.setFullscreenTrigger,Y=Q.resetFullscreenTrigger,ee=Q.setFullscreen,te=G.reducer;n(42);v.setSession(localStorage.getItem("sendsay_session"));var ne=Object(d.b)({name:"requests",initialState:{requestStr:"",responseStr:"",process:"none"},reducers:{setRequestStr:function(e,t){e.process="none",e.requestStr=t.payload.requestStr},setResponseStr:function(e,t){var n=JSON.stringify(t.payload.responseObj,null," ");e.responseStr='""'===n?"":n},clearRequests:function(e){e.requestStr="",e.responseStr=""},setProcessState:function(e,t){e.process=t.payload.process},formatRequest:function(e){try{e.requestStr=function(e){var t=JSON.parse(e);return JSON.stringify(t,null," ")}(e.requestStr)}catch(t){e.process="invalidrequest"}}}}),re=ne.actions,ae=re.setRequestStr,oe=re.setResponseStr,se=re.clearRequests,ie=re.setProcessState,ce=re.formatRequest,ue=function(e){return function(t){!function(){var e=Object(p.a)(m.a.mark((function e(n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(ie({process:"waiting"})),r={},e.prev=2,(r=JSON.parse(n)).action){e.next=6;break}throw new Error("action missed");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),t(ie({process:"invalidrequest"})),e.abrupt("return");case 12:return e.prev=12,e.next=15,v.request(r);case 15:a=e.sent,t(oe({responseObj:a})),t(ie({process:"none"})),t(F({request:r})),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),"error/auth/failed"===e.t1.id?(t(ie({process:"none"})),t(se()),t(S())):e.t1.message?(t(oe({responseObj:{error:e.t1.message}})),t(ie({process:"invalidresponse"}))):(t(oe({responseObj:e.t1})),t(ie({process:"invalidresponse"})),t(R({request:r})));case 24:case"end":return e.stop()}}),e,null,[[2,8],[12,21]])})));return function(t){return e.apply(this,arguments)}}()(e)}},le=ne.reducer,me=(n(43),Object(u.b)((function(e){var t=e.auth;return{currentLoginName:t.currentLoginName,currentSubLoginName:t.currentSubLoginName}}))((function(e){var t=""===e.currentSubLoginName?"current-account__separator_hide":"";return a.a.createElement("div",{className:"current-account"},a.a.createElement("div",{className:"current-account__border"},a.a.createElement("span",{className:"current-account__login"},e.currentLoginName),a.a.createElement("span",{className:"current-account__separator ".concat(t)}," : "),a.a.createElement("span",{className:"current-account__sublogin"},e.currentSubLoginName)))}))),pe=(n(44),Object(u.b)((function(e){return{fullscreen:e.fullscreen.fullscreen}}),{logout:S,clearRequests:se,setFullscreenTrigger:X,setFullscreen:ee})((function(e){var t=e.fullscreen?"fullscreen-button_off":"";return document.onfullscreenchange=function(t){e.setFullscreen({fullscreen:document.fullscreen})},a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"app-logo"}),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"app-caption"},"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430"),a.a.createElement("div",{className:"dummy"}),a.a.createElement(me,null),a.a.createElement("input",{className:"logout-button",type:"button",onClick:function(){e.clearRequests(),e.logout()},value:"\u0412\u044b\u0439\u0442\u0438"}),a.a.createElement("button",{className:"fullscreen-button ".concat(t),onClick:function(){e.setFullscreenTrigger()}})))}))),de=(n(45),Object(u.b)((function(e){return{copyAnimatedItem:e.history.copyAnimatedItem}}),{setRequestStr:ae,openPopup:D})((function(e){var t=e.copyAnimatedItem===e.itemIndex?"_show":"";return a.a.createElement("button",{className:"history-request",onClick:function(){e.setRequestStr({requestStr:JSON.stringify(e.item.request,null," ")})},id:"history-item".concat(e.itemIndex)},a.a.createElement("div",{className:"history-request__status history-request__status_".concat(e.item.status)}),a.a.createElement("div",{className:"history-request__title"},e.item.request.action,a.a.createElement("div",{className:"history-request__copy-animate".concat(t)},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e")),a.a.createElement("div",{className:"history-request__popup-link",onClick:function(t){e.openPopup({popupedItem:t.target.id}),t.stopPropagation()},id:"history-popup".concat(e.itemIndex)}))}))),fe=(n(46),Object(u.b)((function(e){return{historyItems:e.history.historyItems}}),{restoreHistory:function(){return function(e){Object(p.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.openDatabase();case 3:return t.next=5,L.getHistory();case 5:n=t.sent,e(H({history:n})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},openConfirm:W})((function(e){Object(r.useEffect)((function(){e.restoreHistory()}),[]);return a.a.createElement("div",{className:"history"},a.a.createElement("div",{className:"history-items",id:"historyItemsContainer",onWheel:function(e){e=window.event||e;var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));document.getElementById("historyItemsContainer").scrollLeft-=40*t}},e.historyItems.map((function(e,t){return a.a.createElement(de,{key:t,itemIndex:t,item:e})})),a.a.createElement("div",{className:"dummy-request"})),a.a.createElement("div",{className:"history-clear-container"},a.a.createElement("button",{className:"history-clear",onClick:function(t){e.openConfirm({confirmCaption:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e?",confirmApplyAction:"clearHistory"}),t.stopPropagation()}})))}))),ge=n(28),ye=n.n(ge),be=(n(47),n(48),n(49),Object(u.b)((function(e){var t=e.requests;return{requestStr:t.requestStr,responseStr:t.responseStr,process:t.process}}),{setRequestStr:ae})((function(e){var t="request"===e.type?{sideClass:"textmemo_left",caption:"\u0417\u0430\u043f\u0440\u043e\u0441:",readOnly:!1}:{sideClass:"textmemo_right",caption:"\u041e\u0442\u0432\u0435\u0442:",readOnly:!0},n="",r="";("request"===e.type&&"invalidrequest"===e.process||"response"===e.type&&"invalidresponse"===e.process)&&(n="textmemo__viewer_invalid",r="textmemo__caption_invalid");var o="";return a.a.createElement("div",{className:"textmemo ".concat(t.sideClass)},a.a.createElement("div",{className:"textmemo__caption ".concat(r)},t.caption),a.a.createElement("textarea",{className:"textmemo__viewer ".concat(n),readOnly:t.readOnly,onChange:function(t){o=t.target.value,t.target.readOnly||e.setRequestStr({requestStr:t.target.value})},value:"request"===e.type?e.requestStr===o?void 0:e.requestStr:e.responseStr}))}))),he=function(){return a.a.createElement(ye.a,{percentage:!0,primaryMinSize:20,secondaryMinSize:20},a.a.createElement(be,{type:"request"}),a.a.createElement(be,{type:"response"}))},ve=(n(50),Object(u.b)((function(e){var t=e.requests;return{requestStr:t.requestStr,process:t.process}}),{sendRequest:ue,formatRequest:ce})((function(e){var t="waiting"===e.process?"request-button_waiting":"";return a.a.createElement("div",{className:"footer"},a.a.createElement("div",{className:"footer-container"},a.a.createElement("div",{className:"request-button-container"},a.a.createElement("button",{className:"request-button ".concat(t),type:"button",onClick:function(){e.sendRequest(e.requestStr)},"data-testid":"requestButton",disabled:"waiting"===e.process},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),a.a.createElement("div",{className:"github-link-container"},a.a.createElement("a",{className:"github-link github-link-footer",href:e.ghLink},"@my-github-link")),a.a.createElement("div",{className:"format-button-container"},a.a.createElement("input",{className:"format-button",type:"button",onClick:function(){e.formatRequest()},"data-testid":"formatButton",value:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}))))}))),Ee=(n(51),Object(u.b)((function(e){var t=e.history;return{popupedItem:t.popupedItem,historyItems:t.historyItems}}),{setRequestStr:ae,sendRequest:ue,setCopyAnimatedItem:M,closePopup:B,resetCopyAnimated:function(){return function(e){setTimeout((function(){return e(J())}),2e3)}},removeHistoryItem:V,openConfirm:W})((function(e){var t=null===e.popupedItem?"popup_hide":"",n=function(){var t=e.historyItems[e.popupedItem];return t?JSON.stringify(t.request,null," "):null},r=function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(n());case 2:e.setCopyAnimatedItem({copyAnimatedItem:e.popupedItem}),e.resetCopyAnimated();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"popup ".concat(t),style:{left:function(){var t=document.getElementById("history-item"+e.popupedItem);if(t){var n=t.getBoundingClientRect().right-120;return n>0?n+"px":"8px"}return"0px"}(),width:120}},a.a.createElement("div",{className:"popup__exec",onClick:function(){var t=n();e.setRequestStr({requestStr:t}),e.sendRequest(t)}},"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c"),a.a.createElement("div",{className:"popup__copy",onClick:r},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),a.a.createElement("hr",null),a.a.createElement("div",{className:"popup__delete",onClick:function(t){e.closePopup(),e.openConfirm({confirmCaption:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?",confirmApplyAction:"removeHistoryItem",confirmParams:e.popupedItem}),t.stopPropagation()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}))),Ne=(n(52),Object(u.b)((function(e){var t=e.confirm;return{showConfirm:t.showConfirm,confirmCaption:t.confirmCaption,confirmApplyAction:t.confirmApplyAction,confirmParams:t.confirmParams}}),{removeHistoryItem:V,executeAction:function(e,t){return function(n){switch(e){case"removeHistoryItem":n(V({deleteItemIndex:t}));break;case"clearHistory":n(T())}}}})((function(e){Object(r.useEffect)((function(){var e=document.getElementById("button-yes");e&&e.focus()}));var t=e.showConfirm?"":"confirm-dialog_hide";return a.a.createElement("div",{className:"confirm-dialog ".concat(t)},a.a.createElement("div",{className:"confirm-dialog__header"},e.confirmCaption),a.a.createElement("div",{className:"confirm-dialog__buttons"},a.a.createElement("button",{className:"confirm-dialog__button-yes",id:"button-yes",onClick:function(){e.executeAction(e.confirmApplyAction,e.confirmParams)}},"\u0414\u0430"),a.a.createElement("button",{className:"confirm-dialog__button-no"},"\u041d\u0435\u0442")))}))),_e=Object(u.b)((function(e){var t=e.auth;return{currentLoginName:t.currentLoginName,currentSubLoginName:t.currentSubLoginName,fullscreenTrigger:e.fullscreen.fullscreenTrigger}}),{closePopup:B,closeConfirm:Z,resetFullscreenTrigger:Y})((function(e){Object(r.useEffect)((function(){e.fullscreenTrigger&&(document.fullscreen?n():t(),e.resetFullscreenTrigger())}));var t=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},n=function(){document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())};return a.a.createElement("div",{className:"mainform",onClick:function(){e.closePopup(),e.closeConfirm()},onKeyDown:function(t){"Escape"===t.key&&(e.closePopup(),e.closeConfirm())},onWheel:function(){e.closePopup()}},a.a.createElement(pe,null),a.a.createElement(fe,null),a.a.createElement(he,null),a.a.createElement(ve,{ghLink:e.ghLink}),a.a.createElement(Ee,null),a.a.createElement(Ne,null))})),Se=n(17),Ie=Object(u.b)((function(e){return{currentLoginName:e.auth.currentLoginName}}))((function(e){var t=e.type,n=e.currentLoginName;return"user"!==t||n?"guest"===t&&n?a.a.createElement(i.a,{to:"/"}):a.a.createElement(Se.a,e):a.a.createElement(i.a,{to:"/login"})}));var qe=function(){var e="https://github.com/maxmaxk/sendsay";return a.a.createElement("div",{className:"App"},a.a.createElement(i.c,null,a.a.createElement(Ie,{path:"/login",type:"guest"},a.a.createElement(k,{ghLink:e})),a.a.createElement(Ie,{path:"/",type:"user"},a.a.createElement(_e,{ghLink:e}))))},we=Object(d.a)({reducer:{auth:x,requests:le,history:z,confirm:U,fullscreen:te}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:we},a.a.createElement(Se.a,null,a.a.createElement(qe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.82cd20fe.chunk.js.map